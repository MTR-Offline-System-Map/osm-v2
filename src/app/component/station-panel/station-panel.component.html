<div class="column gap wrapper">
	<div class="column gap padding-sides">
		<app-title [name]="getStation()?.name ?? ''" [color]="getStationColor()"/>
		<div class="row gap-small center">
			<div class="row gap center" i18n-pTooltip pTooltip="Location" tooltipPosition="left">
				<div class="material-icons">my_location</div>
				<div>({{ getCoordinatesText() }})</div>
			</div>
			<div class="row center">
				<button pButton class="icon-button" [rounded]="true" [text]="true" (click)="copyLocation(icon)" i18n-pTooltip pTooltip="Copy Location" tooltipPosition="bottom">
					<div class="material-icons" #icon>content_copy</div>
				</button>
				<button pButton class="icon-button" [rounded]="true" [text]="true" (click)="focus()" i18n-pTooltip pTooltip="Focus on Map" tooltipPosition="bottom">
					<div class="material-icons">filter_center_focus</div>
				</button>
			</div>
		</div>
		<div class="row gap center">
			<div class="row gap center" i18n-pTooltip pTooltip="Fare Zones" tooltipPosition="left">
				<div class="material-icons">sell</div>
				<div>({{ getZoneText() }})</div>
			</div>
		</div>
	</div>

	<p-tabs class="wrapper" value="0">
		<p-tablist>
			<p-tab value="0" i18n>Routes</p-tab>
			@if (getConnections().length > 0) {
				<p-tab value="1" i18n>Connections</p-tab>
			}
		</p-tablist>

		<p-tabpanels class="wrapper">
			<p-tabpanel value="0">
				<div class="column gap padding-top-bottom padding-sides content">
					<div class="row gap-small center">
						<p-checkbox #showDetailsCheckbox inputId="showDetailsCheckbox" [binary]="true"/>
						<label for="showDetailsCheckbox" i18n>Show Details</label>
					</div>
					<div class="column">
						@for (route of getRoutes(); track $index) {
							<div class="column">
								<p-divider class="small-divider"/>
								<app-data-list-entry [icons]="[route.typeIcon, '']" [title]="[route.name | formatName, route.number | formatName]" [subtitles]="showDetailsCheckbox.checked ? mapRouteVariations(route.variations) : []" [color]="route.color | formatColor" [useLightColor]="false" [clickable]="true" (entryClicked)="routeClicked.emit(getRouteKey(route))"/>
							</div>
						}
					</div>
				</div>
			</p-tabpanel>

			@if (getConnections().length > 0) {
				<p-tabpanel value="1">
					<div class="column padding-top-bottom padding-sides content">
						@for (connection of getConnections(); track $index) {
							<div class="column">
								@if ($index > 0) {
									<p-divider class="small-divider"/>
								}
								<app-data-list-entry [icons]="connection.getIcons()" [title]="[connection.name | formatName, '']" [subtitles]="[]" [color]="connection.color | formatColor" [useLightColor]="false" [clickable]="true" (entryClicked)="stationClicked.emit(connection.id)"/>
							</div>
						}
					</div>
				</p-tabpanel>
			}
		</p-tabpanels>
	</p-tabs>
</div>