<div class="column wrapper">
	<div class="column gap padding-sides">
		<app-title [name]="getRouteName()" [color]="getRouteColor()"/>
		<p-float-label variant="in">
			<p-select inputId="dropdown" [options]="getDropdownRoutes()" optionLabel="name" (onChange)="selectRoute($event.value.id)" [(ngModel)]="dropdownValue" [fluid]="true">
				<ng-template #item let-route>{{ route.name | formatName }}</ng-template>
			</p-select>
			<label for="dropdown" i18n>Route Variation</label>
		</p-float-label>
		<div class="row gap center">
			<div class="row gap center" i18n-pTooltip pTooltip="Depot(s) For Route" tooltipPosition="left">
				<div class="material-icons">home</div>
				@if (getRouteDepots().length === 0) {
					<div>(None)</div>
				} @else {
					<div class="column gap-small">
						@for (depot of getRouteDepots(); track $index) {
							<div>{{ depot.split("||")[0] | formatName }}</div>
						}
					</div>
				}
			</div>
		</div>
	</div>

	<div class="padding-sides">
		<p-divider/>
	</div>

	<div class="column gap padding-sides content">
		<div class="column">
			@for (stationDetails of getRouteStationDetails(); track $index) {
				<app-route-display [colorAbove]="$index > 0 ? getRouteColor() : undefined" [colorBelow]="$index < $count - 1 ? getRouteColor() : undefined" [isStation]="true">
					<div class="row center">
						<app-data-list-entry class="spacing" [icons]="[]" [title]="[stationDetails.name | formatName, '']" [subtitles]="[]" [useLightColor]="false" [clickable]="true" (entryClicked)="stationClicked.emit(stationDetails.id)"/>
					</div>
				</app-route-display>
				<app-route-display #display2 [colorAbove]="getRouteColor()" [colorBelow]="getRouteColor()" [isStation]="false" [style.display]="$index < $count - 1? '' : 'none'"></app-route-display>
			}
		</div>
	</div>
</div>
